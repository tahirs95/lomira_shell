(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,a,t){e.exports=t(69)},39:function(e,a,t){},41:function(e,a,t){},69:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(31),l=t.n(s),c=(t(39),t(5)),o=t.n(c),m=t(13),i=t(7),u=t(8),d=t(10),p=t(9),v=t(6),E=t(11),b=(t(41),t(4)),h=t(12),N=t(14),f=t.n(N),g=(t(18),t(16),t(19),t(20),function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(d.a)(this,Object(p.a)(a).call(this,e))).count=1,t.loadBooks=t.loadBooks.bind(Object(v.a)(t)),t.state={books:[],token:void 0},t}return Object(E.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){this.loadBooks()}},{key:"loadBooks",value:function(){var e=Object(m.a)(o.a.mark(function e(){var a,t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.props.token),a="Token ".concat(this.props.token),e.next=4,f.a.get("https://lomira-shell.herokuapp.com/book",{headers:{Authorization:a}});case 4:t=e.sent,200===t.status&&(console.log(t.data),this.setState(function(e){return{books:t.data.data}}));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light mb-1"},r.a.createElement("a",{className:"navbar-brand",href:"#"},"Lomira"),r.a.createElement("div",{className:"navbar-nav ml-auto"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item ml-auto"},r.a.createElement(b.b,{className:" btn btn-primary ml-3",to:"/",onClick:this.props.redirect},"Sign Out "))))),this.state.books.length>0&&r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-striped  table-hover "},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Customer Name"),r.a.createElement("th",{scope:"col"},"Purchased Date"),r.a.createElement("th",{scope:"col"},"Truck Number"),r.a.createElement("th",{scope:"col"},"Gallons Pumped"),r.a.createElement("th",{scope:"col"},"Gross Amount"),r.a.createElement("th",{scope:"col"},"Price Per Gallon"),r.a.createElement("th",{scope:"col"},"Net Amount"))),r.a.createElement("tbody",null,this.state.books.map(function(e,a){return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",null,e.customer),r.a.createElement("td",null,e.purchased_date),r.a.createElement("td",null,e.truck_number),r.a.createElement("td",null,e.gallons_pumped),r.a.createElement("td",null,e.gross_amount),r.a.createElement("td",null,e.price_per_gallon),r.a.createElement("td",null,e.net_amount))})))))}}]),a}(n.Component)),w=function(e){function a(e){return Object(i.a)(this,a),Object(d.a)(this,Object(p.a)(a).call(this,e))}return Object(E.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.setsign()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light mb-1"},r.a.createElement("a",{className:"navbar-brand",href:"#"},"Lomira"),r.a.createElement("div",{className:"navbar-nav ml-auto"},r.a.createElement("ul",{className:"nav navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item ml-auto"},r.a.createElement(b.b,{className:" btn btn-secondary ml-auto",activeClassName:"is-active",id:"login",to:"/",exact:!0},"Login In ")),r.a.createElement("li",{className:"nav-item ml-auto"},r.a.createElement(b.b,{className:" btn btn-primary ml-3",activeClassName:"is-active",id:"signup",to:"/signup",exact:!0},"Sign Up "))))),r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"form-horizontal",onSubmit:function(a){a.preventDefault(),e.props.click(a.target.elements.username.value,a.target.elements.password.value)}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"}),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h2",null,"Please Login"),r.a.createElement("hr",null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"}),r.a.createElement("div",{className:"col-md-6"},this.props.error&&r.a.createElement("p",null,this.props.error),r.a.createElement("div",{className:"form-group has-danger"},r.a.createElement("label",{className:"sr-only",for:"email"},"Username"),r.a.createElement("div",{className:"input-group mb-2 mr-sm-2 mb-sm-0"},r.a.createElement("div",{className:"input-group-addon"},r.a.createElement("i",{className:"fa fa-at"})),r.a.createElement("input",{type:"text",name:"username",className:"form-control",id:"email",placeholder:"username",required:!0,autoFocus:!0})))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("div",{className:"form-control-feedback"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"}),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"sr-only",for:"password"},"Password"),r.a.createElement("div",{className:"input-group mb-2 mr-sm-2 mb-sm-0"},r.a.createElement("div",{className:"input-group-addon"},r.a.createElement("i",{className:"fa fa-key"})),r.a.createElement("input",{type:"password",name:"password",className:"form-control",id:"password",placeholder:"Password",required:!0}))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"}),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},r.a.createElement("i",{className:"fa fa-sign-in"})," Login"),r.a.createElement("a",{class:"btn btn-link",href:"/password/reset"},"Forgot Your Password?"))))),r.a.createElement("style",{jsx:!0},"\n        .is-active{\n            font-weight: bold;\n        }\n        \n                "))}}]),a}(r.a.Component),k=function(e){function a(e){return Object(i.a)(this,a),Object(d.a)(this,Object(p.a)(a).call(this,e))}return Object(E.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light mb-1"},r.a.createElement("a",{className:"navbar-brand",href:"#"},"Lomira"),r.a.createElement("button",{className:"navbar-toggler navbar-light ",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"nav navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item ml-auto"},r.a.createElement(b.b,{className:" btn btn-secondary ml-auto",activeClassName:"is-active",id:"login",to:"/",exact:!0},"Login In ")),r.a.createElement("li",{className:"nav-item ml-auto"},r.a.createElement(b.b,{className:" btn btn-primary ml-3",activeClassName:"is-active",id:"signup",to:"/signup",exact:!0},"Sign Up "))))),r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"form-horizontal",onSubmit:function(a){a.preventDefault(),e.props.sign(a.target.elements.username.value,a.target.elements.email1.value,a.target.elements.password1.value,a.target.elements.password2.value)}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"}),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h2",null,"Create a new account"),r.a.createElement("hr",null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"}),r.a.createElement("div",{className:"col-md-6"},this.props.username&&r.a.createElement("p",null,this.props.username),r.a.createElement("div",{className:"form-group has-danger"},r.a.createElement("label",{className:"sr-only",for:"email"},"Username"),r.a.createElement("div",{className:"input-group mb-2 mr-sm-2 mb-sm-0"},r.a.createElement("div",{className:"input-group-addon"},r.a.createElement("i",{className:"fa fa-at"})),r.a.createElement("input",{type:"text",name:"username",className:"form-control",id:"email",placeholder:"username",required:!0,autoFocus:!0,autoComplete:"nope"}))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"}),r.a.createElement("div",{className:"col-md-6"},this.props.email&&r.a.createElement("p",null,this.props.email),r.a.createElement("div",{className:"form-group has-danger"},r.a.createElement("label",{className:"sr-only",for:"email"},"Email"),r.a.createElement("div",{className:"input-group mb-2 mr-sm-2 mb-sm-0"},r.a.createElement("div",{className:"input-group-addon"},r.a.createElement("i",{className:"fa fa-at"})),r.a.createElement("input",{type:"email",name:"email1",className:"form-control",id:"email",placeholder:"email",required:!0,autoComplete:"nope"}))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"}),r.a.createElement("div",{className:"col-md-6"},this.props.password1&&r.a.createElement("p",null,this.props.password1),r.a.createElement("div",{className:"form-group has-danger"},r.a.createElement("label",{className:"sr-only",for:"email"},"Password"),r.a.createElement("div",{className:"input-group mb-2 mr-sm-2 mb-sm-0"},r.a.createElement("div",{className:"input-group-addon"},r.a.createElement("i",{className:"fa fa-at"})),r.a.createElement("input",{type:"password",name:"password1",className:"form-control",id:"email",placeholder:"Password",required:!0,autoComplete:"nope"}))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"}),r.a.createElement("div",{className:"col-md-6"},this.props.password2&&r.a.createElement("p",null,this.props.password2),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"sr-only",for:"password"},"Confirm Password"),r.a.createElement("div",{className:"input-group mb-2 mr-sm-2 mb-sm-0"},r.a.createElement("div",{className:"input-group-addon"},r.a.createElement("i",{className:"fa fa-key"})),r.a.createElement("input",{type:"password",name:"password2",className:"form-control",id:"password",placeholder:"Confirm Password",required:!0,autoComplete:"new-password"}))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"}),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Sign Up"))))),r.a.createElement("style",{jsx:!0},"\n        .is-active{\n            font-weight: bold;\n        }\n       \n        .min-width{ \n            overflow-x:auto \n        }\n        ul.nav{\n            display:inline-flex\n        }\n          \n\n\n\n\n\n                "))}}]),a}(r.a.Component),y=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(d.a)(this,Object(p.a)(a).call(this,e))).state={redirect:!1,token:void 0,error:void 0,signup:!1,username:void 0,email:void 0,password1:void 0,password2:void 0},t.click=t.click.bind(Object(v.a)(t)),t.redirect=t.redirect.bind(Object(v.a)(t)),t.sign=t.sign.bind(Object(v.a)(t)),t.setsign=t.setsign.bind(Object(v.a)(t)),t}return Object(E.a)(a,e),Object(u.a)(a,[{key:"setsign",value:function(){this.setState(function(){return{signup:!1}})}},{key:"sign",value:function(){var e=Object(m.a)(o.a.mark(function e(a,t,n,r){var s,l,c,m;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("https://lomira-shell.herokuapp.com/signup/",{username:a,email:t,password1:n,password2:r}).catch(function(e){e.response.data.username?s=e.response.data.username[0]:e.response.data.email?l=e.response.data.email[0]:e.response.data.password1?c=e.response.data.password1[0]:e.response.data.non_field_errors&&(m=e.response.data.non_field_errors[0])});case 2:e.sent?this.setState(function(){return{signup:!0,username:void 0,email:void 0,password1:void 0,password2:void 0}}):this.setState(function(){return{username:s,email:l,password1:c,password2:m}});case 4:case"end":return e.stop()}},e,this)}));return function(a,t,n,r){return e.apply(this,arguments)}}()},{key:"click",value:function(){var e=Object(m.a)(o.a.mark(function e(a,t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("https://lomira-shell.herokuapp.com/login/",{username:a,password:t}).catch(function(e){});case 2:(n=e.sent)&&200===n.status?this.setState(function(){return{token:n.data.token,redirect:!0,error:void 0}}):("INVALID USERNAME OR PASSWORD",this.setState(function(){return{error:"INVALID USERNAME OR PASSWORD"}}));case 4:case"end":return e.stop()}},e,this)}));return function(a,t){return e.apply(this,arguments)}}()},{key:"redirect",value:function(){var e=Object(m.a)(o.a.mark(function e(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState(function(){return{redirect:!1,token:void 0}}),localStorage.setItem("token",this.state.token),a="Token ".concat(this.state.token),e.next=5,f.a.get("https://lomira-shell.herokuapp.com/logout",{headers:{Authorization:a}});case 5:e.sent;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement(h.b,{path:"/",exact:!0,render:function(){return e.state.redirect?r.a.createElement(h.a,{to:"/home"}):r.a.createElement(w,{click:e.click,error:e.state.error,setsign:e.setsign,signup:e.state.signup})}}),r.a.createElement(h.b,{path:"/home",exact:!0,render:function(){return e.state.token?r.a.createElement(g,{token:e.state.token,redirect:e.redirect}):r.a.createElement(h.a,{to:"/"})}}),r.a.createElement(h.b,{path:"/signup",exact:!0,render:function(){return e.state.signup?r.a.createElement(h.a,{to:"/"}):r.a.createElement(k,{sign:e.sign,username:e.state.username,email:e.state.email,password1:e.state.password1,password2:e.state.password2})}})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.1fe3cd5a.chunk.js.map